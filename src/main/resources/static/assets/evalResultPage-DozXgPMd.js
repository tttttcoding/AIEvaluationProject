import{u as I}from"./useFileStreamStore-wbCZdOyi.js";import{u as j}from"./useScoreStore-BmVhGhYZ.js";import{i as E,r as _,j as P,E as p,e as V,A as k,n as w,f as s,t as n,k as a,m as d,w as i,p as F,o as m,_ as R}from"./index-uf0FIciC.js";import"./ToolsService-Cj2k-usM.js";import"./useSelectedToolStore-DTE7_rlX.js";const T={class:"eval-container"},M={class:"user-info-section"},A={class:"user-info"},J={class:"download-section"},O={class:"score-overview"},q={class:"total-score"},z={class:"summary-card"},G={class:"score-details"},H={class:"card-header"},K={class:"section-score"},L={class:"score-items"},Q={class:"score-item"},W={class:"score-item"},X={class:"score-item"},Y={class:"score-item"},Z={class:"item_summary"},$={class:"card-header"},h={class:"section-score"},ee={class:"score-items"},se={class:"score-item"},le={class:"score-item"},oe={class:"score-item"},ae={class:"item_summary"},ne={class:"card-header"},te={class:"section-score"},ie={class:"score-items"},ue={class:"score-item"},re={class:"score-item"},de={class:"score-item"},ce={class:"item_summary"},me={class:"card-header"},_e={class:"section-score"},pe={class:"score-items"},ve={class:"score-item"},fe={class:"score-item"},Ve={class:"item_summary"},ye={class:"card-header"},be={class:"section-score"},xe={class:"score-items"},ge={class:"score-item"},ke={class:"score-item"},we={class:"item_summary"},Ue=E({__name:"evalResultPage",setup(Se){const U=j(),S=I(),y=_(!1),v=_(!0),r=_({nickname:"null",username:"null",className:"null"}),N=async()=>{if(!l.value){p.warning("æš‚æ— å¯ä¸‹è½½çš„è¯„ä¼°æ•°æ®");return}y.value=!0;try{await S.downloadReport({userInfo:r.value,evalData:l.value}),p.success("ä¸‹è½½æˆåŠŸ")}catch(u){p.error("ä¸‹è½½å¤±è´¥ï¼š"+u)}finally{y.value=!1}},l=_({basic_info:{basic_score:0,object:0,category:0,using:0,rationale:0,basic_summary:""},core_function:{core_score:0,function:0,effect_evaluation:0,recommend:0,core_summary:""},user_experience:{experience_score:0,operation_efficiency:0,error_handling:0,document_support:0,user_summary:""},practical_value:{practical_score:0,cost_effectiveness:0,scenario_adaptability:0,practical_summary:""},conclusion:{conclusion_score:0,strength_weakness:0,scenario:0,conclusion_summary:""},total_score:0,summary:""});return P(async()=>{v.value=!0;try{let u=JSON.parse(localStorage.getItem("user")||"{}");r.value={nickname:u.nickname||"æœªçŸ¥",username:u.username||"æœªçŸ¥",className:u.cno||"æœªçŸ¥"},await new Promise(f=>setTimeout(f,1e3));const e=U.evalData;e&&(l.value={...l.value,...e})}catch{p.error("æ•°æ®åŠ è½½å¤±è´¥")}finally{v.value=!1}console.log("ç”¨æˆ·ä¿¡æ¯:",r.value),console.log("è¯„ä¼°æ•°æ®:",l.value)}),(u,e)=>{var b,x;const f=d("el-loading"),C=d("el-alert"),D=d("el-button"),t=d("el-rate"),c=d("el-card"),B=d("el-empty");return m(),V("div",T,[v.value?(m(),k(f,{key:0})):(m(),V(w,{key:1},[s("div",M,[s("div",A,[e[14]||(e[14]=s("h3",null,"è¯„ä»·æŠ¥å‘Šä¿¡æ¯",-1)),s("p",null,"æäº¤ç”¨æˆ·ï¼š"+n(r.value.nickname)+"ï¼ˆ"+n(r.value.username)+"ï¼‰",1),s("p",null,"æ‰€å±ç­çº§ï¼š"+n(r.value.className),1)]),s("div",J,[a(C,{title:"ğŸš€è¯·åŠ¡å¿…ç‚¹å‡»ä¸‹è½½æ–‡ä»¶ä»¥æŒä¹…åŒ–ä¿å­˜è¯¥é¡µé¢ä¿¡æ¯",type:"info",closable:!1,class:"download-tip"}),a(D,{type:"primary",onClick:N},{default:i(()=>e[15]||(e[15]=[F(" ä¸‹è½½è¯„ä»·æŠ¥å‘Š ")])),_:1,__:[15]})])]),l.value?(m(),V(w,{key:0},[s("div",O,[s("div",q,[s("h1",null,n(((b=l.value)==null?void 0:b.total_score)||0),1),e[16]||(e[16]=s("p",null,"Total Score æ€»åˆ†",-1))]),s("div",z,[e[17]||(e[17]=s("h3",null,"Summary æ€»ç»“",-1)),s("p",null,n(((x=l.value)==null?void 0:x.summary)||"æš‚æ— æ€»ç»“"),1)])]),s("div",G,[a(c,{class:"score-card"},{header:i(()=>{var o,g;return[s("div",H,[e[18]||(e[18]=s("span",null,"Basic Information åŸºç¡€ä¿¡æ¯",-1)),s("span",K,n(((g=(o=l.value)==null?void 0:o.basic_info)==null?void 0:g.basic_score)||0)+" åˆ†",1)])]}),default:i(()=>[s("div",L,[s("div",Q,[e[19]||(e[19]=s("span",null,"ç›®æ ‡å¯¹è±¡",-1)),a(t,{modelValue:l.value.basic_info.object,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.basic_info.object=o),disabled:""},null,8,["modelValue"])]),s("div",W,[e[20]||(e[20]=s("span",null,"åˆ†ç±»å‡†ç¡®æ€§",-1)),a(t,{modelValue:l.value.basic_info.category,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.basic_info.category=o),disabled:""},null,8,["modelValue"])]),s("div",X,[e[21]||(e[21]=s("span",null,"ä½¿ç”¨åœºæ™¯",-1)),a(t,{modelValue:l.value.basic_info.using,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.basic_info.using=o),disabled:""},null,8,["modelValue"])]),s("div",Y,[e[22]||(e[22]=s("span",null,"é€‰æ‹©ç†ç”±",-1)),a(t,{modelValue:l.value.basic_info.rationale,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.basic_info.rationale=o),disabled:""},null,8,["modelValue"])])]),s("div",Z,[e[23]||(e[23]=s("span",null,"åŸå› ï¼š",-1)),s("span",null,n(l.value.basic_info.basic_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",$,[e[24]||(e[24]=s("span",null,"Core Functions æ ¸å¿ƒåŠŸèƒ½",-1)),s("span",h,n(l.value.core_function.core_score)+" åˆ†",1)])]),default:i(()=>[s("div",ee,[s("div",se,[e[25]||(e[25]=s("span",null,"åŠŸèƒ½å®Œæ•´æ€§",-1)),a(t,{modelValue:l.value.core_function.function,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.core_function.function=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",le,[e[26]||(e[26]=s("span",null,"æ•ˆæœè¯„ä¼°",-1)),a(t,{modelValue:l.value.core_function.effect_evaluation,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.core_function.effect_evaluation=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",oe,[e[27]||(e[27]=s("span",null,"æ”¹è¿›å»ºè®®",-1)),a(t,{modelValue:l.value.core_function.recommend,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.core_function.recommend=o),max:10,disabled:""},null,8,["modelValue"])])]),s("div",ae,[e[28]||(e[28]=s("span",null,"åŸå› ï¼š",-1)),s("span",null,n(l.value.core_function.core_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",ne,[e[29]||(e[29]=s("span",null,"User Experience ç”¨æˆ·ä½“éªŒ",-1)),s("span",te,n(l.value.user_experience.experience_score)+" åˆ†",1)])]),default:i(()=>[s("div",ie,[s("div",ue,[e[30]||(e[30]=s("span",null,"æ“ä½œæ•ˆç‡",-1)),a(t,{modelValue:l.value.user_experience.operation_efficiency,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.user_experience.operation_efficiency=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",re,[e[31]||(e[31]=s("span",null,"é”™è¯¯å¤„ç†",-1)),a(t,{modelValue:l.value.user_experience.error_handling,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.user_experience.error_handling=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",de,[e[32]||(e[32]=s("span",null,"æ–‡æ¡£æ”¯æŒ",-1)),a(t,{modelValue:l.value.user_experience.document_support,"onUpdate:modelValue":e[9]||(e[9]=o=>l.value.user_experience.document_support=o),max:10,disabled:""},null,8,["modelValue"])])]),s("div",ce,[e[33]||(e[33]=s("span",null,"åŸå› ï¼š",-1)),s("span",null,n(l.value.user_experience.user_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",me,[e[34]||(e[34]=s("span",null,"Practical Value å®ç”¨ä»·å€¼",-1)),s("span",_e,n(l.value.practical_value.practical_score)+" åˆ†",1)])]),default:i(()=>[s("div",pe,[s("div",ve,[e[35]||(e[35]=s("span",null,"æˆæœ¬æ•ˆç›Š",-1)),a(t,{modelValue:l.value.practical_value.cost_effectiveness,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.practical_value.cost_effectiveness=o),max:5,disabled:""},null,8,["modelValue"])]),s("div",fe,[e[36]||(e[36]=s("span",null,"åœºæ™¯é€‚åº”æ€§",-1)),a(t,{modelValue:l.value.practical_value.scenario_adaptability,"onUpdate:modelValue":e[11]||(e[11]=o=>l.value.practical_value.scenario_adaptability=o),max:5,disabled:""},null,8,["modelValue"])])]),s("div",Ve,[e[37]||(e[37]=s("span",null,"åŸå› ï¼š",-1)),s("span",null,n(l.value.practical_value.practical_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",ye,[e[38]||(e[38]=s("span",null,"Conclusion ç»“è®º",-1)),s("span",be,n(l.value.conclusion.conclusion_score)+" åˆ†",1)])]),default:i(()=>[s("div",xe,[s("div",ge,[e[39]||(e[39]=s("span",null,"ä¼˜ç¼ºç‚¹åˆ†æ",-1)),a(t,{modelValue:l.value.conclusion.strength_weakness,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.conclusion.strength_weakness=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",ke,[e[40]||(e[40]=s("span",null,"åº”ç”¨åœºæ™¯",-1)),a(t,{modelValue:l.value.conclusion.scenario,"onUpdate:modelValue":e[13]||(e[13]=o=>l.value.conclusion.scenario=o),max:10,disabled:""},null,8,["modelValue"])])]),s("div",we,[e[41]||(e[41]=s("span",null,"åŸå› ï¼š",-1)),s("span",null,n(l.value.conclusion.conclusion_summary),1)])]),_:1})])],64)):(m(),k(B,{key:1,description:"æš‚æ— è¯„ä¼°æ•°æ®"}))],64))])}}}),je=R(Ue,[["__scopeId","data-v-5b15ac6e"]]);export{je as default};
