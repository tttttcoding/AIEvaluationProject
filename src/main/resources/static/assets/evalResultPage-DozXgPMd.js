import{u as I}from"./useFileStreamStore-wbCZdOyi.js";import{u as j}from"./useScoreStore-BmVhGhYZ.js";import{i as E,r as _,j as P,E as p,e as V,A as k,n as w,f as s,t as n,k as a,m as d,w as i,p as F,o as m,_ as R}from"./index-uf0FIciC.js";import"./ToolsService-Cj2k-usM.js";import"./useSelectedToolStore-DTE7_rlX.js";const T={class:"eval-container"},M={class:"user-info-section"},A={class:"user-info"},J={class:"download-section"},O={class:"score-overview"},q={class:"total-score"},z={class:"summary-card"},G={class:"score-details"},H={class:"card-header"},K={class:"section-score"},L={class:"score-items"},Q={class:"score-item"},W={class:"score-item"},X={class:"score-item"},Y={class:"score-item"},Z={class:"item_summary"},$={class:"card-header"},h={class:"section-score"},ee={class:"score-items"},se={class:"score-item"},le={class:"score-item"},oe={class:"score-item"},ae={class:"item_summary"},ne={class:"card-header"},te={class:"section-score"},ie={class:"score-items"},ue={class:"score-item"},re={class:"score-item"},de={class:"score-item"},ce={class:"item_summary"},me={class:"card-header"},_e={class:"section-score"},pe={class:"score-items"},ve={class:"score-item"},fe={class:"score-item"},Ve={class:"item_summary"},ye={class:"card-header"},be={class:"section-score"},xe={class:"score-items"},ge={class:"score-item"},ke={class:"score-item"},we={class:"item_summary"},Ue=E({__name:"evalResultPage",setup(Se){const U=j(),S=I(),y=_(!1),v=_(!0),r=_({nickname:"null",username:"null",className:"null"}),N=async()=>{if(!l.value){p.warning("暂无可下载的评估数据");return}y.value=!0;try{await S.downloadReport({userInfo:r.value,evalData:l.value}),p.success("下载成功")}catch(u){p.error("下载失败："+u)}finally{y.value=!1}},l=_({basic_info:{basic_score:0,object:0,category:0,using:0,rationale:0,basic_summary:""},core_function:{core_score:0,function:0,effect_evaluation:0,recommend:0,core_summary:""},user_experience:{experience_score:0,operation_efficiency:0,error_handling:0,document_support:0,user_summary:""},practical_value:{practical_score:0,cost_effectiveness:0,scenario_adaptability:0,practical_summary:""},conclusion:{conclusion_score:0,strength_weakness:0,scenario:0,conclusion_summary:""},total_score:0,summary:""});return P(async()=>{v.value=!0;try{let u=JSON.parse(localStorage.getItem("user")||"{}");r.value={nickname:u.nickname||"未知",username:u.username||"未知",className:u.cno||"未知"},await new Promise(f=>setTimeout(f,1e3));const e=U.evalData;e&&(l.value={...l.value,...e})}catch{p.error("数据加载失败")}finally{v.value=!1}console.log("用户信息:",r.value),console.log("评估数据:",l.value)}),(u,e)=>{var b,x;const f=d("el-loading"),C=d("el-alert"),D=d("el-button"),t=d("el-rate"),c=d("el-card"),B=d("el-empty");return m(),V("div",T,[v.value?(m(),k(f,{key:0})):(m(),V(w,{key:1},[s("div",M,[s("div",A,[e[14]||(e[14]=s("h3",null,"评价报告信息",-1)),s("p",null,"提交用户："+n(r.value.nickname)+"（"+n(r.value.username)+"）",1),s("p",null,"所属班级："+n(r.value.className),1)]),s("div",J,[a(C,{title:"🚀请务必点击下载文件以持久化保存该页面信息",type:"info",closable:!1,class:"download-tip"}),a(D,{type:"primary",onClick:N},{default:i(()=>e[15]||(e[15]=[F(" 下载评价报告 ")])),_:1,__:[15]})])]),l.value?(m(),V(w,{key:0},[s("div",O,[s("div",q,[s("h1",null,n(((b=l.value)==null?void 0:b.total_score)||0),1),e[16]||(e[16]=s("p",null,"Total Score 总分",-1))]),s("div",z,[e[17]||(e[17]=s("h3",null,"Summary 总结",-1)),s("p",null,n(((x=l.value)==null?void 0:x.summary)||"暂无总结"),1)])]),s("div",G,[a(c,{class:"score-card"},{header:i(()=>{var o,g;return[s("div",H,[e[18]||(e[18]=s("span",null,"Basic Information 基础信息",-1)),s("span",K,n(((g=(o=l.value)==null?void 0:o.basic_info)==null?void 0:g.basic_score)||0)+" 分",1)])]}),default:i(()=>[s("div",L,[s("div",Q,[e[19]||(e[19]=s("span",null,"目标对象",-1)),a(t,{modelValue:l.value.basic_info.object,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.basic_info.object=o),disabled:""},null,8,["modelValue"])]),s("div",W,[e[20]||(e[20]=s("span",null,"分类准确性",-1)),a(t,{modelValue:l.value.basic_info.category,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.basic_info.category=o),disabled:""},null,8,["modelValue"])]),s("div",X,[e[21]||(e[21]=s("span",null,"使用场景",-1)),a(t,{modelValue:l.value.basic_info.using,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.basic_info.using=o),disabled:""},null,8,["modelValue"])]),s("div",Y,[e[22]||(e[22]=s("span",null,"选择理由",-1)),a(t,{modelValue:l.value.basic_info.rationale,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.basic_info.rationale=o),disabled:""},null,8,["modelValue"])])]),s("div",Z,[e[23]||(e[23]=s("span",null,"原因：",-1)),s("span",null,n(l.value.basic_info.basic_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",$,[e[24]||(e[24]=s("span",null,"Core Functions 核心功能",-1)),s("span",h,n(l.value.core_function.core_score)+" 分",1)])]),default:i(()=>[s("div",ee,[s("div",se,[e[25]||(e[25]=s("span",null,"功能完整性",-1)),a(t,{modelValue:l.value.core_function.function,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.core_function.function=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",le,[e[26]||(e[26]=s("span",null,"效果评估",-1)),a(t,{modelValue:l.value.core_function.effect_evaluation,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.core_function.effect_evaluation=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",oe,[e[27]||(e[27]=s("span",null,"改进建议",-1)),a(t,{modelValue:l.value.core_function.recommend,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.core_function.recommend=o),max:10,disabled:""},null,8,["modelValue"])])]),s("div",ae,[e[28]||(e[28]=s("span",null,"原因：",-1)),s("span",null,n(l.value.core_function.core_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",ne,[e[29]||(e[29]=s("span",null,"User Experience 用户体验",-1)),s("span",te,n(l.value.user_experience.experience_score)+" 分",1)])]),default:i(()=>[s("div",ie,[s("div",ue,[e[30]||(e[30]=s("span",null,"操作效率",-1)),a(t,{modelValue:l.value.user_experience.operation_efficiency,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.user_experience.operation_efficiency=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",re,[e[31]||(e[31]=s("span",null,"错误处理",-1)),a(t,{modelValue:l.value.user_experience.error_handling,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.user_experience.error_handling=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",de,[e[32]||(e[32]=s("span",null,"文档支持",-1)),a(t,{modelValue:l.value.user_experience.document_support,"onUpdate:modelValue":e[9]||(e[9]=o=>l.value.user_experience.document_support=o),max:10,disabled:""},null,8,["modelValue"])])]),s("div",ce,[e[33]||(e[33]=s("span",null,"原因：",-1)),s("span",null,n(l.value.user_experience.user_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",me,[e[34]||(e[34]=s("span",null,"Practical Value 实用价值",-1)),s("span",_e,n(l.value.practical_value.practical_score)+" 分",1)])]),default:i(()=>[s("div",pe,[s("div",ve,[e[35]||(e[35]=s("span",null,"成本效益",-1)),a(t,{modelValue:l.value.practical_value.cost_effectiveness,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.practical_value.cost_effectiveness=o),max:5,disabled:""},null,8,["modelValue"])]),s("div",fe,[e[36]||(e[36]=s("span",null,"场景适应性",-1)),a(t,{modelValue:l.value.practical_value.scenario_adaptability,"onUpdate:modelValue":e[11]||(e[11]=o=>l.value.practical_value.scenario_adaptability=o),max:5,disabled:""},null,8,["modelValue"])])]),s("div",Ve,[e[37]||(e[37]=s("span",null,"原因：",-1)),s("span",null,n(l.value.practical_value.practical_summary),1)])]),_:1}),a(c,{class:"score-card"},{header:i(()=>[s("div",ye,[e[38]||(e[38]=s("span",null,"Conclusion 结论",-1)),s("span",be,n(l.value.conclusion.conclusion_score)+" 分",1)])]),default:i(()=>[s("div",xe,[s("div",ge,[e[39]||(e[39]=s("span",null,"优缺点分析",-1)),a(t,{modelValue:l.value.conclusion.strength_weakness,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.conclusion.strength_weakness=o),max:10,disabled:""},null,8,["modelValue"])]),s("div",ke,[e[40]||(e[40]=s("span",null,"应用场景",-1)),a(t,{modelValue:l.value.conclusion.scenario,"onUpdate:modelValue":e[13]||(e[13]=o=>l.value.conclusion.scenario=o),max:10,disabled:""},null,8,["modelValue"])])]),s("div",we,[e[41]||(e[41]=s("span",null,"原因：",-1)),s("span",null,n(l.value.conclusion.conclusion_summary),1)])]),_:1})])],64)):(m(),k(B,{key:1,description:"暂无评估数据"}))],64))])}}}),je=R(Ue,[["__scopeId","data-v-5b15ac6e"]]);export{je as default};
