import{L}from"./loading-X9k4tBg4.js";import{g as C,u as E,r as y,m as b,b as n,e,j as t,t as a,B as g,C as v,D as f,G as T,H as _,I as c,l as k,o as i,_ as F,h as x,i as R}from"./index-ZCHI1N3d.js";const V={class:"form-container"},P={key:0,class:"auth-section"},U=["title"],h={class:"input-group"},N={class:"input-wrapper"},D=["title"],S={key:0,class:"error-message"},B={class:"input-group"},M={class:"input-wrapper"},j=["type","title"],I={key:0,class:"error-message"},z={class:"forgot"},A=["title"],G={class:"signup"},H={key:1,class:"auth-section"},q={class:"title"},J={class:"input-group"},K={class:"input-wrapper"},O=["title"],Q={key:0,class:"error-message"},W={class:"input-group"},X={class:"input-wrapper"},Y=["title"],Z={key:0,class:"error-message"},ss={class:"input-group"},es={class:"input-wrapper"},os=["title"],ts={key:0,class:"error-message"},rs=["title"],ns={class:"signup"},is={class:"role-selector"},ls={class:"role-options"},as=C({__name:"enter",emits:["usernameChange"],setup($,{emit:w}){const d=w,o=E(),u=y(!1),p=m=>{o.setRole(m)},l=()=>{u.value=!u.value};return b(()=>o.loginForm.username,m=>{d("usernameChange",m)}),b(()=>o.registerForm.username,m=>{d("usernameChange",m)}),(m,s)=>(i(),n("div",V,[t(o).isLogin?(i(),n("div",P,[e("p",{class:"title",title:t(o).currentRole},a(t(o).currentRoleCN)+"登录 ",9,U),e("form",{class:"form",onSubmit:s[4]||(s[4]=c((...r)=>t(o).enterLogin&&t(o).enterLogin(...r),["prevent"]))},[e("div",h,[s[16]||(s[16]=e("label",{for:"username"},"账号",-1)),e("div",N,[s[15]||(s[15]=e("i",{class:"icon icon-user"},null,-1)),v(e("input",{type:"text",name:"username",id:"username",placeholder:"输入账号",title:t(o).currentRole,"onUpdate:modelValue":s[0]||(s[0]=r=>t(o).loginForm.username=r)},null,8,D),[[f,t(o).loginForm.username]])]),t(o).loginErrors.username?(i(),n("span",S,a(t(o).loginErrors.username),1)):g("",!0)]),e("div",B,[s[18]||(s[18]=e("label",{for:"password"},"密码",-1)),e("div",M,[s[17]||(s[17]=e("i",{class:"icon icon-lock"},null,-1)),v(e("input",{type:u.value?"text":"password",name:"password",id:"password",placeholder:"输入密码",title:t(o).currentRole,"onUpdate:modelValue":s[1]||(s[1]=r=>t(o).loginForm.password=r)},null,8,j),[[T,t(o).loginForm.password]]),e("i",{class:_(["icon password-toggle",u.value?"icon-eye":"icon-eye-slash"]),onClick:l},null,2)]),t(o).loginErrors.password?(i(),n("span",I,a(t(o).loginErrors.password),1)):g("",!0),e("div",z,[e("a",{rel:"noopener noreferrer",plain:"",onClick:s[2]||(s[2]=r=>t(o).open(()=>"找回密码"))},"忘记密码")])]),e("button",{type:"button",class:"sign",onClick:s[3]||(s[3]=c((...r)=>t(o).enterLogin&&t(o).enterLogin(...r),["prevent"])),title:t(o).currentRole}," 登 录 ",8,A)],32),e("p",G,[s[19]||(s[19]=k(" 还没有账号? ")),e("a",{onClick:s[5]||(s[5]=c((...r)=>t(o).switchToRegister&&t(o).switchToRegister(...r),["prevent"])),href:"javascript:void(0)",class:"switch-link"},"点击注册")])])):(i(),n("div",H,[e("p",q,a(t(o).currentRoleCN)+"注册",1),e("form",{class:"form",onSubmit:s[10]||(s[10]=c((...r)=>t(o).enterRegister&&t(o).enterRegister(...r),["prevent"]))},[e("div",J,[s[21]||(s[21]=e("label",{for:"username"},"账号",-1)),e("div",K,[s[20]||(s[20]=e("i",{class:"icon icon-user"},null,-1)),v(e("input",{type:"text",name:"username",id:"username",placeholder:"输入账号",title:t(o).currentRole,"onUpdate:modelValue":s[6]||(s[6]=r=>t(o).registerForm.username=r)},null,8,O),[[f,t(o).registerForm.username]])]),t(o).registerErrors.username?(i(),n("span",Q,a(t(o).registerErrors.username),1)):g("",!0)]),e("div",W,[s[23]||(s[23]=e("label",{for:"password"},[k("密码 "),e("span",{class:"password-hint"},"(6-18位)")],-1)),e("div",X,[s[22]||(s[22]=e("i",{class:"icon icon-lock"},null,-1)),v(e("input",{type:"password",name:"password",id:"password","show-password":"",placeholder:"输入密码",title:t(o).currentRole,"onUpdate:modelValue":s[7]||(s[7]=r=>t(o).registerForm.password=r)},null,8,Y),[[f,t(o).registerForm.password]])]),t(o).registerErrors.password?(i(),n("span",Z,a(t(o).registerErrors.password),1)):g("",!0)]),e("div",ss,[s[25]||(s[25]=e("label",{for:"confirm-password"},"确认密码",-1)),e("div",es,[s[24]||(s[24]=e("i",{class:"icon icon-lock"},null,-1)),v(e("input",{type:"password",name:"confirm-password",id:"confirm-password","show-password":"",placeholder:"确认密码",title:t(o).currentRole,"onUpdate:modelValue":s[8]||(s[8]=r=>t(o).registerForm.confirmPassword=r)},null,8,os),[[f,t(o).registerForm.confirmPassword]])]),t(o).registerErrors.confirmPassword?(i(),n("span",ts,a(t(o).registerErrors.confirmPassword),1)):g("",!0)]),e("button",{type:"button",class:"sign",onClick:s[9]||(s[9]=c((...r)=>t(o).enterRegister&&t(o).enterRegister(...r),["prevent"])),title:t(o).currentRole}," 注 册 ",8,rs)],32),e("p",ns,[s[26]||(s[26]=k(" 已有账号? ")),e("a",{onClick:s[11]||(s[11]=c((...r)=>t(o).switchToLogin&&t(o).switchToLogin(...r),["prevent"])),href:"javascript:void(0)",class:"switch-link"},"点击登录")])])),e("div",is,[s[30]||(s[30]=e("div",{class:"role-selector-label"},"选择身份：",-1)),e("div",ls,[e("div",{class:_(["role-option",{active:t(o).currentRole==="student"}]),onClick:s[12]||(s[12]=r=>p("student"))},s[27]||(s[27]=[e("div",{class:"role-icon student-icon"},null,-1),e("span",null,"学生",-1)]),2),e("div",{class:_(["role-option",{active:t(o).currentRole==="teacher"}]),onClick:s[13]||(s[13]=r=>p("teacher"))},s[28]||(s[28]=[e("div",{class:"role-icon teacher-icon"},null,-1),e("span",null,"教师",-1)]),2),e("div",{class:_(["role-option",{active:t(o).currentRole==="admin"}]),onClick:s[14]||(s[14]=r=>p("admin"))},s[29]||(s[29]=[e("div",{class:"role-icon admin-icon"},null,-1),e("span",null,"管理员",-1)]),2)])])]))}}),ds=F(as,[["__scopeId","data-v-4eb9e0bf"]]),us={class:"form-page"},ps={key:0,class:"loader-container"},ms={key:1,class:"content-container"},cs={class:"brand-section"},gs={class:"brand-title"},vs={key:0},ws={key:1,class:"username-placeholder"},fs=C({__name:"formPage",setup($){E();const w=y(!0),d=y("");let o=null;const u=p=>{o&&clearTimeout(o),o=setTimeout(()=>{d.value=p,o=null},300)};return x(()=>{setTimeout(()=>{w.value=!1},500)}),(p,l)=>(i(),n("div",us,[l[3]||(l[3]=e("div",{class:"background-effects"},[e("div",{class:"circle circle-1"})],-1)),w.value?(i(),n("div",ps,[R(L)])):(i(),n("div",ms,[e("div",cs,[l[1]||(l[1]=e("div",{class:"logo"},[e("span",{class:"logo-icon"},"🎓")],-1)),e("h1",gs,[l[0]||(l[0]=k(" 欢迎回来 ")),d.value?(i(),n("span",vs,a(d.value),1)):(i(),n("span",ws," ____"))]),l[2]||(l[2]=e("p",{class:"brand-subtitle"},"登录账户以体验完整功能",-1))]),R(ds,{class:"form-section",onUsernameChange:u})]))]))}}),ys=F(fs,[["__scopeId","data-v-3546e33d"]]);export{ys as default};
