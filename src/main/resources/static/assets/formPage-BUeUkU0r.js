import{L}from"./loading-0ISrfNO_.js";import{h as C,u as E,r as y,n as b,b as i,e,k as t,t as d,B as c,C as g,D as w,G as T,H as f,I as u,q as _,o as l,_ as F,i as x,j as R}from"./index-DvWpKrQb.js";const V={class:"form-container"},h={key:0,class:"auth-section"},P=["title"],U={class:"input-group"},N={class:"input-wrapper"},S=["title"],D={key:0,class:"error-message"},B={class:"input-group"},M={class:"input-wrapper"},j=["type","title"],I={key:0,class:"error-message"},q={class:"forgot"},z=["title"],A={class:"signup"},G={key:1,class:"auth-section"},H={class:"title"},J={class:"input-group"},K={class:"input-wrapper"},O=["title"],Q={key:0,class:"error-message"},W={class:"input-group"},X={class:"input-wrapper"},Y=["title"],Z={key:0,class:"error-message"},ss={class:"input-group"},es={class:"input-wrapper"},os=["title"],ts={key:0,class:"error-message"},rs=["title"],ns={class:"signup"},is={class:"role-selector"},ls={class:"role-options"},as=C({__name:"enter",emits:["usernameChange"],setup($,{emit:k}){const p=k,o=E(),a=y(!1),m=n=>{o.setRole(n)},v=()=>{a.value=!a.value};return b(()=>o.loginForm.username,n=>{p("usernameChange",n)}),b(()=>o.registerForm.username,n=>{p("usernameChange",n)}),(n,s)=>(l(),i("div",V,[t(o).isLogin?(l(),i("div",h,[e("p",{class:"title",title:t(o).currentRole},d(t(o).currentRoleCN)+"登录 ",9,P),e("form",{class:"form",onSubmit:s[4]||(s[4]=u((...r)=>t(o).enterLogin&&t(o).enterLogin(...r),["prevent"]))},[e("div",U,[s[16]||(s[16]=e("label",{for:"username"},"账号",-1)),e("div",N,[s[15]||(s[15]=e("i",{class:"icon icon-user"},null,-1)),g(e("input",{type:"text",name:"username",id:"username",placeholder:"输入账号",title:t(o).currentRole,"onUpdate:modelValue":s[0]||(s[0]=r=>t(o).loginForm.username=r)},null,8,S),[[w,t(o).loginForm.username]])]),t(o).loginErrors.username?(l(),i("span",D,d(t(o).loginErrors.username),1)):c("",!0)]),e("div",B,[s[18]||(s[18]=e("label",{for:"password"},"密码",-1)),e("div",M,[s[17]||(s[17]=e("i",{class:"icon icon-lock"},null,-1)),g(e("input",{type:a.value?"text":"password",name:"password",id:"password",placeholder:"输入密码",title:t(o).currentRole,"onUpdate:modelValue":s[1]||(s[1]=r=>t(o).loginForm.password=r)},null,8,j),[[T,t(o).loginForm.password]]),e("i",{class:f(["icon password-toggle",a.value?"icon-eye":"icon-eye-slash"]),onClick:v},null,2)]),t(o).loginErrors.password?(l(),i("span",I,d(t(o).loginErrors.password),1)):c("",!0),e("div",q,[e("a",{rel:"noopener noreferrer",plain:"",onClick:s[2]||(s[2]=r=>t(o).open(()=>"找回密码"))},"忘记密码")])]),e("button",{type:"button",class:"sign",onClick:s[3]||(s[3]=u((...r)=>t(o).enterLogin&&t(o).enterLogin(...r),["prevent"])),title:t(o).currentRole}," 登 录 ",8,z)],32),e("p",A,[s[19]||(s[19]=_(" 还没有账号? ")),e("a",{onClick:s[5]||(s[5]=u((...r)=>t(o).switchToRegister&&t(o).switchToRegister(...r),["prevent"])),href:"javascript:void(0)",class:"switch-link"},"点击注册")])])):(l(),i("div",G,[e("p",H,d(t(o).currentRoleCN)+"注册",1),e("form",{class:"form",onSubmit:s[10]||(s[10]=u((...r)=>t(o).enterRegister&&t(o).enterRegister(...r),["prevent"]))},[e("div",J,[s[21]||(s[21]=e("label",{for:"username"},"账号",-1)),e("div",K,[s[20]||(s[20]=e("i",{class:"icon icon-user"},null,-1)),g(e("input",{type:"text",name:"username",id:"username",placeholder:"输入账号",title:t(o).currentRole,"onUpdate:modelValue":s[6]||(s[6]=r=>t(o).registerForm.username=r)},null,8,O),[[w,t(o).registerForm.username]])]),t(o).registerErrors.username?(l(),i("span",Q,d(t(o).registerErrors.username),1)):c("",!0)]),e("div",W,[s[23]||(s[23]=e("label",{for:"password"},[_("密码 "),e("span",{class:"password-hint"},"(6-18位)")],-1)),e("div",X,[s[22]||(s[22]=e("i",{class:"icon icon-lock"},null,-1)),g(e("input",{type:"password",name:"password",id:"password","show-password":"",placeholder:"输入密码",title:t(o).currentRole,"onUpdate:modelValue":s[7]||(s[7]=r=>t(o).registerForm.password=r)},null,8,Y),[[w,t(o).registerForm.password]])]),t(o).registerErrors.password?(l(),i("span",Z,d(t(o).registerErrors.password),1)):c("",!0)]),e("div",ss,[s[25]||(s[25]=e("label",{for:"confirm-password"},"确认密码",-1)),e("div",es,[s[24]||(s[24]=e("i",{class:"icon icon-lock"},null,-1)),g(e("input",{type:"password",name:"confirm-password",id:"confirm-password","show-password":"",placeholder:"确认密码",title:t(o).currentRole,"onUpdate:modelValue":s[8]||(s[8]=r=>t(o).registerForm.confirmPassword=r)},null,8,os),[[w,t(o).registerForm.confirmPassword]])]),t(o).registerErrors.confirmPassword?(l(),i("span",ts,d(t(o).registerErrors.confirmPassword),1)):c("",!0)]),e("button",{type:"button",class:"sign",onClick:s[9]||(s[9]=u((...r)=>t(o).enterRegister&&t(o).enterRegister(...r),["prevent"])),title:t(o).currentRole}," 注 册 ",8,rs)],32),e("p",ns,[s[26]||(s[26]=_(" 已有账号? ")),e("a",{onClick:s[11]||(s[11]=u((...r)=>t(o).switchToLogin&&t(o).switchToLogin(...r),["prevent"])),href:"javascript:void(0)",class:"switch-link"},"点击登录")])])),e("div",is,[s[30]||(s[30]=e("div",{class:"role-selector-label"},"选择身份：",-1)),e("div",ls,[e("div",{class:f(["role-option",{active:t(o).currentRole==="student"}]),onClick:s[12]||(s[12]=r=>m("student"))},s[27]||(s[27]=[e("div",{class:"role-icon student-icon"},null,-1),e("span",null,"学生",-1)]),2),e("div",{class:f(["role-option",{active:t(o).currentRole==="teacher"}]),onClick:s[13]||(s[13]=r=>m("teacher"))},s[28]||(s[28]=[e("div",{class:"role-icon teacher-icon"},null,-1),e("span",null,"教师",-1)]),2),e("div",{class:f(["role-option",{active:t(o).currentRole==="admin"}]),onClick:s[14]||(s[14]=r=>m("admin"))},s[29]||(s[29]=[e("div",{class:"role-icon admin-icon"},null,-1),e("span",null,"管理员",-1)]),2)])])]))}}),ds=F(as,[["__scopeId","data-v-4eb9e0bf"]]),us={class:"form-page"},ps={key:0,class:"loader-container"},ms={key:1,class:"content-container"},cs={class:"brand-section"},gs={class:"brand-title"},vs={key:0},ws={key:1,class:"username-placeholder"},fs=C({__name:"formPage",setup($){const k=E(),p=y(!0),o=y("");let a=null;const m=v=>{a&&clearTimeout(a),a=setTimeout(()=>{o.value=v,a=null},300)};return x(()=>{setTimeout(()=>{p.value=!1},500),k.fetchClassList()}),(v,n)=>(l(),i("div",us,[n[3]||(n[3]=e("div",{class:"background-effects"},[e("div",{class:"circle circle-1"})],-1)),p.value?(l(),i("div",ps,[R(L)])):(l(),i("div",ms,[e("div",cs,[n[1]||(n[1]=e("div",{class:"logo"},[e("span",{class:"logo-icon"},"🎓")],-1)),e("h1",gs,[n[0]||(n[0]=_(" 欢迎回来 ")),o.value?(l(),i("span",vs,d(o.value),1)):(l(),i("span",ws," ____"))]),n[2]||(n[2]=e("p",{class:"brand-subtitle"},"登录账户以体验完整功能",-1))]),R(ds,{class:"form-section",onUsernameChange:m})]))]))}}),ys=F(fs,[["__scopeId","data-v-d2603e20"]]);export{ys as default};
