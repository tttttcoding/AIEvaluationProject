import{i as F,r as p,j as U,a9 as W,e as v,o as d,H as D,f as e,aa as H,_ as O,C as ce,U as ue,m as f,Y as ve,k as l,w as n,l as g,ab as pe,u as _e,R as K,n as b,g as fe,t as _,x as me,p as B,q as P,I as G,S as ge,A as he,ac as we,a4 as ye,E as Q}from"./index-UgPJK38L.js";import{u as ke}from"./useToolsStore-DRc9QM8f.js";import{u as be}from"./useSelectedToolStore-CXQOxsBL.js";import"./ToolsService-r0m5FawN.js";const Ce={class:"card-header"},xe={class:"card-body"},Se={class:"card-footer"},Te=F({__name:"Card",setup(E){const h=p(!1),t=p(null),m=new IntersectionObserver(i=>{i.forEach(w=>{w.isIntersecting&&(h.value=!0,m.unobserve(w.target))})},{threshold:.05,rootMargin:"100px"});return U(()=>{t.value&&m.observe(t.value)}),W(()=>{m.disconnect()}),(i,w)=>(d(),v("div",{class:D(["card",{"is-visible":h.value}]),ref_key:"cardRef",ref:t},[e("div",Ce,[H(i.$slots,"header",{},void 0,!0)]),e("div",xe,[H(i.$slots,"default",{},void 0,!0)]),e("div",Se,[H(i.$slots,"info",{},void 0,!0)])],2))}}),Ve=O(Te,[["__scopeId","data-v-24c5c2c0"]]),Pe={class:"back-top-container"},Ie=F({__name:"backTop",setup(E){const h=p(!1),t=()=>{h.value=window.scrollY>window.innerHeight*.8},m=()=>{window.scrollTo({top:0,behavior:"smooth"})};return U(()=>{window.addEventListener("scroll",t),t()}),W(()=>{window.removeEventListener("scroll",t)}),(i,w)=>ce((d(),v("div",Pe,[e("button",{onClick:m},w[0]||(w[0]=[e("div",{class:"text"},[e("span",null,"Back"),e("span",null,"to"),e("span",null,"top")],-1),e("div",{class:"clone"},[e("span",null,"Back"),e("span",null,"to"),e("span",null,"top")],-1),e("svg",{"stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",fill:"none",class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",width:"20px"},[e("path",{d:"M14 5l7 7m0 0l-7 7m7-7H3","stroke-linejoin":"round","stroke-linecap":"round"})],-1)]))],512)),[[ue,h.value]])}}),Le=O(Ie,[["__scopeId","data-v-87f6e3c4"]]),Ae={class:"footer"},$e={class:"footer-content"},Be={class:"footer-logo"},Me={class:"footer-logo-icon"},Ne=F({__name:"Foot",setup(E){return(h,t)=>{const m=f("el-icon");return d(),v("div",Ae,[e("div",$e,[e("div",Be,[e("div",Me,[l(m,{size:24,color:"var(--el-color-primary)"},{default:n(()=>[l(g(pe))]),_:1})]),t[0]||(t[0]=e("div",{class:"footer-logo-text"},"AI工具集",-1))]),t[1]||(t[1]=ve('<div class="footer-links" data-v-e2b96e57><a href="#" class="footer-link" data-v-e2b96e57>关于我们</a><a href="#" class="footer-link" data-v-e2b96e57>联系方式</a><a href="#" class="footer-link" data-v-e2b96e57>隐私政策</a><a href="#" class="footer-link" data-v-e2b96e57>使用条款</a></div><div class="footer-copyright" data-v-e2b96e57>© 2025 AITEACH. 保留所有权利</div>',2))])])}}}),Fe=O(Ne,[["__scopeId","data-v-e2b96e57"]]),Oe={class:"hero-section",style:{"z-index":"0"}},Ee={class:"hero-content"},Re={class:"hero-search"},ze={class:"search-result-item"},He={class:"search-result-logo-container"},Ue=["src","alt"],De={class:"search-result-info"},Je={class:"search-result-name"},qe={class:"search-result-category"},je={class:"search-result-score"},Ye={class:"result-score"},Ke={class:"hero-stats"},Ge={class:"stat-item"},Qe={class:"stat-content"},We={class:"stat-count"},Xe={class:D(["category-navbar","mode-grid"]),id:"category-navbar"},Ze={class:"category-nav-content grid"},es=["onClick"],ss={class:"category-section"},ts=["id"],os={class:"category-title"},ls={class:"category-count"},as={key:0,class:"skeleton-container"},ns={class:"skeleton-cards"},rs={key:1,class:"tools-grid"},is={class:"tool-logo"},ds=["src","alt","title"],cs={class:"tool-name"},us={class:"tool-desc"},vs={class:"tool-info"},ps={class:"rating"},_s={class:"rating-score"},fs={class:"rating-count"},ms={key:1,class:"skeleton-container"},gs={class:"skeleton-cards"},hs={class:"backTop"},ws={class:"dialog-footer"},ys="AI / LLM 模型工具集",ks=F({__name:"index",setup(E){const h=fe(),t=ke(),m=be(),i=p("AI对话工具"),w=p(!0),R=p(!0),y=_e(),M=p(""),J=p(!1),q=p(null),X=o=>s=>s.name.toLowerCase().indexOf(o.toLowerCase())!==-1||s.description.toLowerCase().indexOf(o.toLowerCase())!==-1||s.category.toLowerCase().indexOf(o.toLowerCase())!==-1,Z=((o,s)=>{let u;return(...C)=>{clearTimeout(u),u=setTimeout(()=>o(...C),s)}})((o,s)=>{const u=Object.values(t.currentCategoryTools||{}).flat(),C=o?u.filter(X(o)):[];s(C.map(x=>({value:x.name,...x})))},300),ee=o=>{q.value=o,M.value=o.name,J.value=!1,m.selectTool(o),h.push("/detail")},se=()=>{M.value="",q.value=null,J.value=!1},te=o=>{m.selectTool(o),h.push("/detail")},z=p([]),N=p([]),oe=async o=>{await t.loadCategoryTools(o),i.value=t.loadedCategory,localStorage.setItem("activeName",JSON.stringify(i.value));const s=[...N.value],u=s.indexOf(o);u>0&&(s.splice(u,1),s.unshift(o),N.value=s)},I=p(!1),j=p(),c=K({nickname:"",oldPassword:"",newPassword:"",confirmPassword:""}),le=K({oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:18,message:"密码长度必须在6-18位之间",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(o,s)=>{o!==c.newPassword?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]}),ae=()=>{var o;(o=j.value)==null||o.validate(async s=>{if(s)try{const u=await ye(y.user.token,c.nickname,c.oldPassword,c.newPassword,y.user.username);y.user.token=u.Authorization,y.isFresh=0,localStorage.setItem("isFresh",JSON.stringify(y.isFresh)),Q.success("修改成功"),I.value=!1,c.oldPassword="",c.newPassword="",c.confirmPassword="",c.nickname=""}catch{Q.error("修改失败")}})};U(async()=>{y.checkAuth(),y.isFresh===1&&y.user.role==="student"&&(I.value=!0),R.value=!0,w.value=!0,await t.fetchCategory(),i.value=JSON.parse(localStorage.getItem("activeName")||"AI对话工具"),z.value=[...t.categories],N.value=[...t.categories],R.value=!1,w.value=!1,k.value&&(k.value.addEventListener("scroll",ne),k.value.setAttribute("data-scroll-listener","true")),console.log(t.currentCategoryTools)});const k=p(null),ne=()=>{if(!k.value)return;const{scrollTop:o}=k.value;re()},re=o=>{var x;if(!k.value)return;const s=document.querySelectorAll(".category-section"),u=150,C=k.value.getBoundingClientRect().top;for(let L=0;L<s.length;L++){const A=s[L],S=A.getBoundingClientRect().top-C,$=S+A.offsetHeight;if(S<=u&&$>u){const T=(x=A.querySelector(".category-header"))==null?void 0:x.id;T&&T!==i.value&&(i.value=T,localStorage.setItem("activeName",JSON.stringify(T)));return}}},ie=()=>{N.value=[...z.value],i.value=z.value[0]||"AI对话工具",localStorage.setItem("activeName",JSON.stringify(i.value))};return(o,s)=>{const u=f("el-icon"),C=f("el-autocomplete"),x=f("el-main"),L=f("el-footer"),A=f("el-container"),S=f("el-input"),$=f("el-form-item"),T=f("el-form"),Y=f("el-button"),de=f("el-dialog");return d(),v(b,null,[l(A,null,{default:n(()=>[e("div",{class:"main-container",ref_key:"scrollContainer",ref:k},[e("div",Oe,[s[14]||(s[14]=e("div",{class:"hero-background"},[e("div",{class:"bg-gradient"}),e("div",{class:"bg-pattern"})],-1)),e("div",Ee,[e("h1",{class:"hero-title"},_(ys)),e("div",Re,[l(C,{modelValue:M.value,"onUpdate:modelValue":s[0]||(s[0]=a=>M.value=a),"fetch-suggestions":g(Z),placeholder:"搜索工具名称、描述或分类...",onSelect:ee,clearable:"",onClear:se,class:"search-input","popper-class":"search-popper","trigger-on-focus":!1},{prefix:n(()=>[l(u,{class:"search-icon"},{default:n(()=>[l(g(me))]),_:1})]),default:n(({item:a})=>[e("div",ze,[e("div",He,[e("img",{src:a.logo_url,alt:a.name,class:"search-result-logo"},null,8,Ue)]),e("div",De,[e("div",Je,_(a.name),1),e("div",qe,_(a.category),1)]),e("div",je,[e("span",Ye,_(a.score??Math.floor(Math.random()*5)),1),s[6]||(s[6]=e("span",{class:"result-star"},"⭐",-1))])])]),_:1},8,["modelValue","fetch-suggestions"])]),e("div",Ke,[s[9]||(s[9]=e("div",{class:"stat-item"},[e("div",{class:"stat-icon"},[e("svg",{viewBox:"0 0 24 24",width:"24",height:"22",stroke:"currentColor",fill:"none"},[e("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),e("path",{d:"M9 12h6"}),e("path",{d:"M9 16h6"})])]),e("div",{class:"stat-content"},[e("div",{class:"stat-count"}," 400+ "),e("div",{class:"stat-label"},"工具数量")])],-1)),s[10]||(s[10]=e("div",{class:"stat-divider"},null,-1)),e("div",Ge,[s[8]||(s[8]=e("div",{class:"stat-icon"},[e("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",fill:"none"},[e("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),e("line",{x1:"4",y1:"22",x2:"4",y2:"15"})])],-1)),e("div",Qe,[e("div",We,_(g(t).categories.length),1),s[7]||(s[7]=e("div",{class:"stat-label"},"分类数量",-1))])]),s[11]||(s[11]=e("div",{class:"stat-divider"},null,-1)),s[12]||(s[12]=e("div",{class:"stat-item"},[e("div",{class:"stat-icon"},[e("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",fill:"none"},[e("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})])]),e("div",{class:"stat-content"},[e("div",{class:"stat-count"},"-"),e("div",{class:"stat-label"},"评价数量")])],-1))]),s[13]||(s[13]=e("div",{style:{width:"inherit","margin-top":"10px"}},[B(" 如需上传报告作业，请使用以下工具："),e("a",{href:"https://a1.x914.com/alight/i/2025/06/06/41le.png",target:"_blank"},"查看开放工具列表")],-1))])]),l(x,{class:"main"},{default:n(()=>{var a;return[R.value?(d(),v("div",ms,[(d(),v(b,null,P(2,r=>e("div",{key:r,class:"skeleton-category"},[s[21]||(s[21]=e("div",{class:"skeleton-title"},null,-1)),e("div",gs,[(d(),v(b,null,P(4,V=>e("div",{key:V,class:"skeleton-card"},s[20]||(s[20]=[e("div",{class:"skeleton-header"},null,-1),e("div",{class:"skeleton-body"},null,-1),e("div",{class:"skeleton-info"},null,-1)]))),64))])])),64))])):(d(),v(b,{key:0},[e("div",Xe,[s[16]||(s[16]=e("div",{class:"navbar-header"},[e("h3",{class:"navbar-title"},"工具分类")],-1)),e("div",Ze,[(d(!0),v(b,null,P(g(t).categories,r=>(d(),v("div",{key:r,class:D(["category-nav-item",i.value===r?"active":""]),onClick:G(V=>oe(r),["stop"])},_(r),11,es))),128)),e("div",{class:"category-nav-item reset",onClick:G(ie,["stop"]),title:"恢复默认顺序"},[l(u,null,{default:n(()=>[l(g(ge))]),_:1}),s[15]||(s[15]=B(" 恢复默认 "))])])]),e("div",ss,[e("div",{class:"category-header",id:i.value},[e("h2",os,_(g(t).loadedCategory),1),e("div",ls,_(((a=g(t).currentCategoryTools)==null?void 0:a.length)||0)+" 个工具 ",1)],8,ts)]),g(t).isLoading?(d(),v("div",as,[(d(),v(b,null,P(2,r=>e("div",{key:r,class:"skeleton-category"},[s[18]||(s[18]=e("div",{class:"skeleton-title"},null,-1)),e("div",ns,[(d(),v(b,null,P(4,V=>e("div",{key:V,class:"skeleton-card"},s[17]||(s[17]=[e("div",{class:"skeleton-header"},null,-1),e("div",{class:"skeleton-body"},null,-1),e("div",{class:"skeleton-info"},null,-1)]))),64))])])),64))])):(d(),v("div",rs,[(d(!0),v(b,null,P(g(t).currentCategoryTools,(r,V)=>(d(),he(Ve,{key:r.id,class:"tool-card",style:we({"--index":V%8}),onClick:Cs=>te(r)},{header:n(()=>[e("div",is,[e("img",{src:r.logo_url,alt:r.name,title:r.name},null,8,ds),e("div",cs,_(r.name),1)])]),default:n(()=>[e("p",us,_(r.description),1)]),info:n(()=>[e("div",vs,[e("div",ps,[e("span",_s,[B(_((r.score??0).toFixed(1))+" ",1),s[19]||(s[19]=e("svg",{class:"icon",viewBox:"0 0 1000 900",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},[e("path",{d:"M512.009505 25.054894l158.199417 320.580987 353.791078 51.421464L767.995248 646.579761l60.432101 352.365345-316.417844-166.354615-316.436854 166.354615 60.432101-352.365345L0 397.057345l353.791078-51.421464z",fill:"#EFCE4A","p-id":"2289","data-spm-anchor-id":"a313x.search_index.0.i1.672b3a81KYHDAp",class:"selected"})],-1))]),e("div",fs," 已有 "+_(r.ratingCount??0)+" 人评价 ",1)])])]),_:2},1032,["style","onClick"]))),128))]))],64))]}),_:1}),l(L,null,{default:n(()=>[l(Fe)]),_:1})],512),e("div",hs,[l(Le)])]),_:1}),l(de,{modelValue:I.value,"onUpdate:modelValue":s[5]||(s[5]=a=>I.value=a),title:"首次登陆强制修改密码",width:"400px",center:"","destroy-on-close":"","append-to-body":"","modal-append-to-body":!0,class:"password-dialog","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},{footer:n(()=>[e("span",ws,[l(Y,{onClick:s[4]||(s[4]=a=>I.value=!1)},{default:n(()=>s[22]||(s[22]=[B("取消")])),_:1,__:[22]}),l(Y,{type:"primary",onClick:ae},{default:n(()=>s[23]||(s[23]=[B("确认")])),_:1,__:[23]})])]),default:n(()=>[l(T,{model:c,rules:le,ref_key:"passwordFormRef",ref:j,"label-width":"100px","status-icon":""},{default:n(()=>[l($,{label:"旧密码",prop:"oldPassword"},{default:n(()=>[l(S,{modelValue:c.oldPassword,"onUpdate:modelValue":s[1]||(s[1]=a=>c.oldPassword=a),type:"password","show-password":"",placeholder:"请输入旧密码"},null,8,["modelValue"])]),_:1}),l($,{label:"新密码",prop:"newPassword"},{default:n(()=>[l(S,{modelValue:c.newPassword,"onUpdate:modelValue":s[2]||(s[2]=a=>c.newPassword=a),type:"password","show-password":"",placeholder:"请输入新密码"},null,8,["modelValue"])]),_:1}),l($,{label:"确认密码",prop:"confirmPassword"},{default:n(()=>[l(S,{modelValue:c.confirmPassword,"onUpdate:modelValue":s[3]||(s[3]=a=>c.confirmPassword=a),type:"password","show-password":"",placeholder:"请确认新密码"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])],64)}}}),Ps=O(ks,[["__scopeId","data-v-b33d2c0a"]]);export{Ps as default};
