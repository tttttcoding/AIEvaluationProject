import{T as V}from"./index-0CyBte5T.js";import{b as A,u as M,r as v,A as g,c as C,a as u,f as e,h as i,g as t,B as p,i as a,C as $,D as F,m as f,k as I,G as P,F as D,H as c,I as T,J as E,o,_ as h,e as G}from"./index-DU-Sq44Q.js";import{L as H}from"./loading-BnmZL4ro.js";import"./github.vue_vue_type_style_index_0_scoped_c5cc798f_lang-CAulx1qC.js";const J={class:"menu-container"},j={class:"collapse-trigger"},q=A({__name:"index",emits:["collapse"],setup(w,{emit:x}){const _=M(),k=v(g(()=>_.user.role==="admin"?"/admin":"/home")),r=v(!1),m=g(()=>({isStudent:_.user.role==="student",isTeacher:_.user.role==="teacher",isAdmin:_.user.role==="admin"})),n=v({tools:"/home",forum:"/forum",admin:"/admin",toolList:"/toolList",stuList:"/stuList",teaList:"/teaList",teacherCrouse:"/teacherCourse",teacherInbox:"/teacherInbox",studentCrouse:"/studentCourse",studentInbox:"/studentInbox",setup:"/setup"}),b=()=>{r.value=!r.value,y("collapse",r.value)},y=x;return(L,l)=>{const s=i("el-icon"),B=i("el-button"),d=i("el-menu-item"),N=i("el-sub-menu"),S=i("el-menu");return o(),C("div",J,[u("div",j,[e(B,{class:"collapse-btn",type:"primary",onClick:b,text:""},{default:t(()=>[r.value?(o(),p(s,{key:0,class:"collapse-icon",title:"展开"},{default:t(()=>[e(a($))]),_:1})):(o(),p(s,{key:1,class:"collapse-icon",title:"折叠"},{default:t(()=>[e(a(F))]),_:1}))]),_:1})]),e(S,{"default-active":k.value,class:"el-menu-vertical-demo",collapse:r.value,router:""},{default:t(()=>[m.value.isAdmin?f("",!0):(o(),p(N,{key:0,index:"1"},{title:t(()=>[e(s,null,{default:t(()=>[e(a(P))]),_:1}),l[0]||(l[0]=u("span",null,"热门AI工具",-1))]),default:t(()=>[e(d,{index:n.value.tools},{default:t(()=>l[1]||(l[1]=[I("工具集")])),_:1},8,["index"]),e(d,{index:n.value.forum},{default:t(()=>l[2]||(l[2]=[I("论坛")])),_:1},8,["index"])]),_:1})),m.value.isAdmin?(o(),C(D,{key:1},[e(d,{index:n.value.toolList},{default:t(()=>[e(s,null,{default:t(()=>[e(a(c))]),_:1}),l[3]||(l[3]=u("span",null,"工具管理",-1))]),_:1},8,["index"]),e(d,{index:n.value.stuList},{default:t(()=>[e(s,null,{default:t(()=>[e(a(c))]),_:1}),l[4]||(l[4]=u("span",null,"学生管理",-1))]),_:1},8,["index"]),e(d,{index:n.value.teaList},{default:t(()=>[e(s,null,{default:t(()=>[e(a(c))]),_:1}),l[5]||(l[5]=u("span",null,"教师管理",-1))]),_:1},8,["index"])],64)):f("",!0),m.value.isTeacher?(o(),p(d,{key:2,index:n.value.teacherCrouse},{default:t(()=>[e(s,null,{default:t(()=>[e(a(c))]),_:1}),l[6]||(l[6]=u("span",null,"我的课程（老师）",-1))]),_:1},8,["index"])):f("",!0),m.value.isTeacher?(o(),p(d,{key:3,index:n.value.teacherInbox},{default:t(()=>[e(s,null,{default:t(()=>[e(a(T))]),_:1}),l[7]||(l[7]=u("span",null,"收件箱（老师）",-1))]),_:1},8,["index"])):f("",!0),m.value.isStudent?(o(),p(d,{key:4,index:n.value.studentCrouse},{default:t(()=>[e(s,null,{default:t(()=>[e(a(c))]),_:1}),l[8]||(l[8]=u("span",null,"我的课程（学生）",-1))]),_:1},8,["index"])):f("",!0),m.value.isStudent?(o(),p(d,{key:5,index:n.value.studentInbox},{default:t(()=>[e(s,null,{default:t(()=>[e(a(T))]),_:1}),l[9]||(l[9]=u("span",null,"收件箱（学生）",-1))]),_:1},8,["index"])):f("",!0),e(d,{index:n.value.setup},{default:t(()=>[e(s,null,{default:t(()=>[e(a(E))]),_:1}),l[10]||(l[10]=u("span",null,"个性化设置",-1))]),_:1},8,["index"])]),_:1},8,["default-active","collapse"])])}}}),z=h(q,[["__scopeId","data-v-dfce59b5"]]),K={key:0},O={key:1},Q={class:"top-nav"},R=A({__name:"mainPage",setup(w){const x=v(!0),_=v(!1),k=r=>{_.value=r};return G(()=>{setTimeout(()=>{x.value=!1},400)}),(r,m)=>{const n=i("el-aside"),b=i("router-view"),y=i("el-main"),L=i("el-container");return x.value?(o(),C("div",K,[e(H)])):(o(),C("div",O,[u("nav",Q,[e(V)]),e(L,null,{default:t(()=>[e(n,{width:_.value?"64px":"200px",class:"menus"},{default:t(()=>[e(z,{onCollapse:k})]),_:1},8,["width"]),e(L,null,{default:t(()=>[e(y,null,{default:t(()=>[e(b)]),_:1})]),_:1})]),_:1})]))}}}),Z=h(R,[["__scopeId","data-v-f343534f"]]);export{Z as default};
