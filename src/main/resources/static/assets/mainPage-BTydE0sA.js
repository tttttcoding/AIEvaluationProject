import{T as M}from"./index-BcMvRs_E.js";import{h as w,u as V,r as v,c as g,b as C,e as u,j as e,l as i,w as t,A as p,k as a,J as $,K as P,B as c,q as I,L as j,m as q,M as f,N as T,O as E,o,_ as A,i as F}from"./index-Bc0iVnwy.js";import{L as J}from"./loading-CfxUmmcR.js";import"./theme-DG5HT0k6.js";const K={class:"menu-container"},O={class:"collapse-trigger"},z=w({__name:"index",emits:["collapse"],setup(N,{emit:x}){const r=V(),k=v(g(()=>r.user.role==="admin"?"/admin":"/home")),_=v(!0),m=g(()=>({isStudent:r.user.role==="student",isTeacher:r.user.role==="teacher",isAdmin:r.user.role==="admin"})),l=v({tools:"/home",forum:"/forum",admin:"/admin",toolList:"/toolList",stuList:"/stuList",teaList:"/teaList",teacherCrouse:"/teacherCourse",teacherInbox:"/teacherInbox",studentCrouse:"/studentCourse",studentInbox:"/studentInbox",setup:"/setup"}),L=()=>{_.value=!_.value,b("collapse",_.value)},b=x;return(y,n)=>{const s=i("el-icon"),h=i("el-button"),d=i("el-menu-item"),B=i("el-sub-menu"),S=i("el-menu");return o(),C("div",K,[u("div",O,[e(h,{class:"collapse-btn",type:"primary",onClick:L,text:""},{default:t(()=>[_.value?(o(),p(s,{key:0,class:"collapse-icon",title:"展开"},{default:t(()=>[e(a($))]),_:1})):(o(),p(s,{key:1,class:"collapse-icon",title:"折叠"},{default:t(()=>[e(a(P))]),_:1}))]),_:1})]),e(S,{"default-active":k.value,class:"el-menu-vertical-demo",collapse:_.value,router:""},{default:t(()=>[m.value.isAdmin?c("",!0):(o(),p(B,{key:0,index:"1"},{title:t(()=>[e(s,null,{default:t(()=>[e(a(j))]),_:1}),n[0]||(n[0]=u("span",null,"热门AI工具",-1))]),default:t(()=>[e(d,{index:l.value.tools},{default:t(()=>n[1]||(n[1]=[I("工具集")])),_:1,__:[1]},8,["index"]),e(d,{index:l.value.forum},{default:t(()=>n[2]||(n[2]=[I("论坛")])),_:1,__:[2]},8,["index"])]),_:1})),m.value.isAdmin?(o(),C(q,{key:1},[e(d,{index:l.value.toolList},{default:t(()=>[e(s,null,{default:t(()=>[e(a(f))]),_:1}),n[3]||(n[3]=u("span",null,"工具管理",-1))]),_:1,__:[3]},8,["index"]),e(d,{index:l.value.stuList},{default:t(()=>[e(s,null,{default:t(()=>[e(a(f))]),_:1}),n[4]||(n[4]=u("span",null,"学生管理",-1))]),_:1,__:[4]},8,["index"]),e(d,{index:l.value.teaList},{default:t(()=>[e(s,null,{default:t(()=>[e(a(f))]),_:1}),n[5]||(n[5]=u("span",null,"教师管理",-1))]),_:1,__:[5]},8,["index"])],64)):c("",!0),m.value.isTeacher?(o(),p(d,{key:2,index:l.value.teacherCrouse},{default:t(()=>[e(s,null,{default:t(()=>[e(a(f))]),_:1}),n[6]||(n[6]=u("span",null,"我的课程（老师）",-1))]),_:1,__:[6]},8,["index"])):c("",!0),m.value.isTeacher?(o(),p(d,{key:3,index:l.value.teacherInbox},{default:t(()=>[e(s,null,{default:t(()=>[e(a(T))]),_:1}),n[7]||(n[7]=u("span",null,"收件箱（老师）",-1))]),_:1,__:[7]},8,["index"])):c("",!0),m.value.isStudent?(o(),p(d,{key:4,index:l.value.studentCrouse},{default:t(()=>[e(s,null,{default:t(()=>[e(a(f))]),_:1}),n[8]||(n[8]=u("span",null,"历史评价记录",-1))]),_:1,__:[8]},8,["index"])):c("",!0),m.value.isStudent?(o(),p(d,{key:5,index:l.value.studentInbox},{default:t(()=>[e(s,null,{default:t(()=>[e(a(T))]),_:1}),n[9]||(n[9]=u("span",null,"收件箱",-1))]),_:1,__:[9]},8,["index"])):c("",!0),e(d,{index:l.value.setup},{default:t(()=>[e(s,null,{default:t(()=>[e(a(E))]),_:1}),n[10]||(n[10]=u("span",null,"个性化设置",-1))]),_:1,__:[10]},8,["index"])]),_:1},8,["default-active","collapse"])])}}}),D=A(z,[["__scopeId","data-v-68f27e36"]]),G={key:0},H={key:1},Q={class:"top-nav"},R=w({__name:"mainPage",setup(N){const x=v(!0),r=v(!0),k=_=>{r.value=_};return F(()=>{setTimeout(()=>{x.value=!1},400)}),(_,m)=>{const l=i("el-aside"),L=i("router-view"),b=i("el-main"),y=i("el-container");return x.value?(o(),C("div",G,[e(J)])):(o(),C("div",H,[u("nav",Q,[e(M)]),e(y,null,{default:t(()=>[e(l,{width:r.value?"64px":"200px",class:"menus"},{default:t(()=>[e(D,{onCollapse:k})]),_:1},8,["width"]),e(y,null,{default:t(()=>[e(b,null,{default:t(()=>[e(L)]),_:1})]),_:1})]),_:1})]))}}}),Z=A(R,[["__scopeId","data-v-84f2667c"]]);export{Z as default};
