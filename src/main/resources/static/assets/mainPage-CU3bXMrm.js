import{T as B}from"./index-CJBLsY-P.js";import{i as w,u as A,r as v,c as g,e as C,f as d,k as e,m as r,w as t,A as m,l as o,J as M,K as V,B as p,p as b,L as $,n as I,M as f,N as P,o as s,_ as E,j}from"./index-uf0FIciC.js";import{L as F}from"./loading-COF-PQm4.js";import"./theme-GRzP-Tyy.js";const J={class:"menu-container"},K={class:"collapse-trigger"},q=w({__name:"index",emits:["collapse"],setup(N,{emit:x}){const u=A(),k=v(g(()=>u.user.role==="admin"?"/admin":u.user.role==="teacher"?"/teacherCourse":"/home")),i=v(!1),c=g(()=>({isStudent:u.user.role==="student",isTeacher:u.user.role==="teacher",isAdmin:u.user.role==="admin"})),a=v({tools:"/home",admin:"/admin",toolList:"/toolList",stuList:"/stuList",teaList:"/teaList",teacherCourse:"/teacherCourse",teacherEvals:"/teacherEvals",studentCourse:"/studentCourse",studentEvals:"/studentEvals"}),L=()=>{i.value=!i.value,h("collapse",i.value)},h=x;return(y,l)=>{const n=r("el-icon"),S=r("el-button"),_=r("el-menu-item"),T=r("el-menu");return s(),C("div",J,[d("div",K,[e(S,{class:"collapse-btn",type:"primary",onClick:L,text:""},{default:t(()=>[i.value?(s(),m(n,{key:0,class:"collapse-icon",title:"展开"},{default:t(()=>[e(o(M))]),_:1})):(s(),m(n,{key:1,class:"collapse-icon",title:"折叠"},{default:t(()=>[e(o(V))]),_:1}))]),_:1})]),e(T,{"default-active":k.value,class:"el-menu-vertical-demo",collapse:i.value,router:""},{default:t(()=>[c.value.isStudent?(s(),m(_,{key:0,index:a.value.tools},{default:t(()=>[e(n,null,{default:t(()=>[e(o($))]),_:1}),l[0]||(l[0]=b(" 工具集 "))]),_:1,__:[0]},8,["index"])):p("",!0),c.value.isAdmin?(s(),C(I,{key:1},[e(_,{index:a.value.toolList},{default:t(()=>[e(n,null,{default:t(()=>[e(o(f))]),_:1}),l[1]||(l[1]=d("span",null,"工具管理",-1))]),_:1,__:[1]},8,["index"]),e(_,{index:a.value.stuList},{default:t(()=>[e(n,null,{default:t(()=>[e(o(f))]),_:1}),l[2]||(l[2]=d("span",null,"学生管理",-1))]),_:1,__:[2]},8,["index"]),e(_,{index:a.value.teaList},{default:t(()=>[e(n,null,{default:t(()=>[e(o(f))]),_:1}),l[3]||(l[3]=d("span",null,"教师管理",-1))]),_:1,__:[3]},8,["index"])],64)):p("",!0),c.value.isTeacher?(s(),m(_,{key:2,index:a.value.teacherCourse},{default:t(()=>[e(n,null,{default:t(()=>[e(o(f))]),_:1}),l[4]||(l[4]=d("span",null,"课程管理",-1))]),_:1,__:[4]},8,["index"])):p("",!0),c.value.isStudent?(s(),m(_,{key:3,index:a.value.studentCourse},{default:t(()=>[e(n,null,{default:t(()=>[e(o(f))]),_:1}),l[5]||(l[5]=d("span",null,"评价记录",-1))]),_:1,__:[5]},8,["index"])):p("",!0),c.value.isStudent?(s(),m(_,{key:4,index:a.value.studentEvals},{default:t(()=>[e(n,null,{default:t(()=>[e(o(P))]),_:1}),l[6]||(l[6]=d("span",null,"作业记录",-1))]),_:1,__:[6]},8,["index"])):p("",!0)]),_:1},8,["default-active","collapse"])])}}}),z=E(q,[["__scopeId","data-v-a02ef092"]]),D={key:0},G={key:1},H={class:"top-nav"},O=w({__name:"mainPage",setup(N){const x=v(!0),u=v(!1),k=i=>{u.value=i};return j(()=>{setTimeout(()=>{x.value=!1},400)}),(i,c)=>{const a=r("el-aside"),L=r("router-view"),h=r("el-main"),y=r("el-container");return x.value?(s(),C("div",D,[e(F)])):(s(),C("div",G,[d("nav",H,[e(B)]),e(y,null,{default:t(()=>[e(a,{width:u.value?"64px":"200px",class:"menus"},{default:t(()=>[e(z,{onCollapse:k})]),_:1},8,["width"]),e(y,null,{default:t(()=>[e(h,null,{default:t(()=>[e(L)]),_:1})]),_:1})]),_:1})]))}}}),X=E(O,[["__scopeId","data-v-0d1af132"]]);export{X as default};
